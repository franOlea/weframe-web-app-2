<template>
  <div class="card mb-3 ${userPicture && frame && backboard && frontMat ? 'border-info' : 'border-success'}" style="height: 100%;">
    <div class="card-header">Resumen</div>
    <div class="card-body" if.bind="userPicture || frame || backboard || frontMat" style="height: 100%; overflow-y: scroll;">

      <div if.bind="userPicture">
        <h5 class="card-title">${userPicture.picture.name}</h5>
        <hr>
      </div>

      <div if.bind="frame">
        <h5 class="card-title">${frame.name}</h5>
        <p class="card-text">$ ${frame.price}</p>
        <hr>
      </div>

      <div if.bind="backboard">
        <h5 class="card-title">${backboard.name}</h5>
        <p class="card-text">$ ${frame ? calculatedPrice(frame, backboard.m2Price).toFixed(2) : backboard.m2Price + ' c/m2'}</p>
        <hr>
      </div>

      <div if.bind="frontMat">
        <h5 class="card-title">${frontMat.name}</h5>
        <p class="card-text">$ ${frame ? calculatedPrice(frame, frontMat.m2Price).toFixed(2) : frontMat.m2Price + ' c/m2'}</p>
        <hr>
      </div>

      <div if.bind="userPicture && frame && backboard && frontMat">
        <h5 class="card-title">Total</h5>
        <p class="card-text">$ ${(frame.price + calculatedPrice(frame, backboard.m2Price) + calculatedPrice(frame, frontMat.m2Price)).toFixed(2)}</p>
        <hr>
      </div>

      <div if.bind="userPicture && frame && backboard && frontMat">
        <h5 class="card-title">Envio</h5>
        <p class="card-text">Direccion</p>
        <input type="text" value.bind="streetAddressOne" title="Street Address One"/>
        <br/>
        <input type="text" value.bind="streetAddressTwo" title="Street Address Two"/>
        <p class="card-text">Codigo postal</p>
        <input type="text" value.bind="zipCode" title="Zip Code"/>
        <p class="card-text">Provincia</p>
        <input type="text" value.bind="province" title="Province"/>
        <p class="card-text">Localidad</p>
        <input type="text" value.bind="locality" title="Locality"/>
      </div>

    </div>
    <div class="card-footer bg-transparent border-success" if.bind="userPicture && frame && backboard && frontMat">
      <button class="btn btn-success" type="button" click.delegate="start()" disabled.bind="loading">
        <span if.bind="loading"><span class="spinner-grow spinner-grow-sm" role="status" aria-hidden="true"></span>Loading...</span>
        <span if.bind="!loading">Listo</span>
      </button>
    </div>
  </div>
</template>